<% layout('layout') %>
<section class="max-w-3xl mx-auto px-4 py-12">
  <h2 class="text-3xl font-extrabold mb-6">التسجيل في كأس بَعۡدان الذهبي</h2>

  <% if (typeof error !== 'undefined' && error) { %>
    <div class="mb-6 p-4 rounded-xl bg-red-500/20 border border-red-400/40"><%= error %></div>
  <% } %>

  <form method="POST" action="/register" class="space-y-6">
    <div>
      <label class="block mb-2 opacity-90">اسم اللاعب *</label>
      <input name="name" required value="<%= (old && old.name) || '' %>"
        class="w-full px-4 py-3 rounded-2xl bg-white text-black outline-none"
        placeholder="مثال: وليد الحاج">
    </div>

    <div>
      <label class="block mb-2 opacity-90">رقم الجوال (اختياري)</label>
      <input name="phone" value="<%= (old && old.phone) || '' %>"
        class="w-full px-4 py-3 rounded-2xl bg-white text-black outline-none"
        placeholder="7XXXXXXXX">
    </div>

    <div>
      <label class="block mb-2 opacity-90">القرية *</label>
      <select name="village" required class="w-full px-4 py-3 rounded-2xl bg-white text-black outline-none">
        <option value="" disabled selected>اختر القرية</option>
        <% villages.forEach(v => { %>
          <option value="<%= v %>" <%= (old && old.village === v) ? 'selected' : '' %>><%= v %></option>
        <% }) %>
      </select>
    </div>

    <div>
      <label class="block mb-2 opacity-90">الفريق (اختياري)</label>
      <input name="team" value="<%= (old && old.team) || '' %>"
        class="w-full px-4 py-3 rounded-2xl bg-white text-black outline-none"
        placeholder="مثال: شباب الرباعي">
    </div>

    <button class="px-6 py-3 bg-white text-black rounded-2xl font-semibold hover:opacity-90">
      إرسال التسجيل
    </button>
  </form>
</section>